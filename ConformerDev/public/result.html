{% extends 'basic.html' %}

{% block content %}
{% load static %}

<link href="{% static 'css/prism.css' %}" rel="stylesheet"/>
<script src="{% static 'js/prism.js' %}"></script>

<br>
<div class="row">



<div class="col-md-4">
  <div class="panel panel-white">
                          <div class="panel-heading clearfix">
                              <h4 class="panel-title">Summary</h4>
                          </div>
                          <div class="panel-body" style="text-align: center;">
                            <div class="rows">
                              <div class="col-md-4">
                                <h1 style="font-weight: 900;">{{ length }}</h1>
                                <h5>Lines</h5>
                              </div>
                              <div class="col-md-4">
                                <h1 style="font-weight: 900; color: red">{{ AccessibilityExceptionCount }}</h1>
                                <h5>Accessibility Exceptions</h5>
                              </div>
                              <div class="col-md-4">
                                <h1 style="font-weight: 900; color: red">{{ StaticHTMLValidationCount }}</h1>
                                <h5>Static HTML Validations</h5>
                              </div>
                            </div>
                          </div>
                      </div>

                      <div class="panel panel-white">
                                              <div class="panel-heading clearfix">
                                                  <h4 class="panel-title">Error Summary</h4>
                                              </div>
                                              <div class="panel-body" style="text-align: center;">
                                                <div>
                                                  <script type="text/javascript">
                                                      window.addEventListener("load", function(){
                                                    var data2 = {
        labels: ["ALT Tag", "Hierarchical", "Colors", "Obsolete Code", "Infrastructure"],
        datasets: [
            {
                label: "Accessibility Error",
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',

                ],
                borderColor: [
                    'rgba(255,99,132,1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                ],
                borderWidth: 1,
                data: [{{ MAT }}, {{ HER }}, {{ COL }}, {{ OBS }}, {{ TIT }}],
            }
        ]
    };

    var ctx2 = $("#chart2");
    var myBarChart = new Chart(ctx2, {
        type: 'bar',
        data: data2,
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero:true
                    }
                }]
            },
            legend: {
                display: false
            }
        }
    });
    });
                                                  </script>
                                                  <canvas id="chart2" height="165"></canvas>
                                                </div>

                                                </div>
                                              </div>

                                              <div class="panel panel-white">
                                                            <div class="panel-heading clearfix">
                                                              <h4 class="panel-title">Scrapped Links</h4>
                                                                  </div>
                                                                <div class="panel-body" style="text-align: center;">
                                                                <div class="rows">
                                                                <table id="example" class="table table-striped" style="width: 100%;" role="grid" aria-describedby="example_info">

                                                                
                                                                              {% for item in links %}
                                                                              <tr>
                                                                              <td> {{ item }} </td>
                                                                              </tr>
                                                                              {% endfor %}
                                                                  </table>
                                                                        </div>
                                              </div></div>






                      <div class="panel panel-white">
                                    <div class="panel-heading clearfix">
                                      <h4 class="panel-title">History</h4>
                                          </div>
                                        <div class="panel-body" style="text-align: center;">
                                        <div class="rows">
                                        <table id="example" class="table table-striped" style="width: 100%;" role="grid" aria-describedby="example_info">

                                                <th>Time</th>
                                                <th>#Lines</th>
                                                <th>AE</th>
                                                  <th>SHV</th>
                                                      {% for item in history %}
                                                      <tr>
                                                      <td> {{ item.testDateTime }} </td>
                                                      <td> {{ item.totalLines }} </td>
                                                      <td> {{ item.AccessibilityExceptionCount }} </td>
                                                      <td> {{ item.StaticHTMLValidationCount }} </td>
                                                      </tr>
                                                      {% endfor %}
                                          </table>
                                                </div>
                      </div></div>
</div>





<div class="col-md-8">

  <div class="panel panel-white">
                          <div class="panel-heading clearfix">
                              <h4 class="panel-title">Results</h4>
                          </div>
                          <div class="panel-body">
                            {% for l in result %}
                            <div class="">


                              <div class="alert alert-danger alert-dismissible" role="alert"> {{ l }}

                                <span class="align-right;text-align:right">
                                <a style="" class="btn btn-default btn-rounded" href="http://www.google.com/search?q={{l}}" target="_blank">?</a>
                                    </span>



                               </div>
                               </div>
                            {% endfor %}
                          </div>
                      </div>



  <div class="panel panel-white">
                          <div class="panel-heading clearfix">
                              <h4 class="panel-title">Evaluated Code</h4>
                          </div>
                          <div class="panel-body">
                            <blockquote>
                              <pre class="language-html line-numbers"  data-start="1" data-src-status="loaded" tabindex="0" style="counter-reset: linenumber -6;"><code class="language-html">
                                <code class="language-html">
                                    {{code}}
                                </code>
                              </pre>
                            </blockquote>
                          </div>
                      </div>
</div>


</div>


{% endblock %}
